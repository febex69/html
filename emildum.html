<!DOCTYPE html>
<html>
<head>
<title>FX Maker</title>
<style>
    body {
        margin:0;
        background:#181a1f;
        color:white;
        font-family:Arial;
        display:flex;
        height:100vh;
    }

    #sidebar {
        width:260px;
        background:#20232a;
        border-right:2px solid #333;
        padding:15px;
        overflow-y:auto;
    }

    h2 {
        margin-top:25px;
        border-bottom:1px solid #555;
        padding-bottom:5px;
        text-transform:uppercase;
        font-size:14px;
        letter-spacing:1px;
    }

    #main {
        flex:1;
        display:flex;
        justify-content:center;
        align-items:center;
    }

    canvas {
        width:80%;
        height:auto;
        background:#111;
        border:3px solid #333;
        border-radius:10px;
    }

    .btn {
        width:100%;
        margin:5px 0;
        padding:10px;
        border:none;
        border-radius:6px;
        font-size:14px;
        background:#3d414d;
        color:white;
        cursor:pointer;
        transition:0.2s;
    }
    .btn:hover {
        background:#596073;
    }

    #upload {
        margin-bottom:20px;
    }
</style>
</head>
<body>

<div id="sidebar">
    <h1 style="text-align:center;">FX MAKER ðŸŽ¨</h1>
    <input type="file" id="upload" class="btn">

    <h2>Funny Presets ðŸ˜‚</h2>
    <button class="btn" onclick="addFilter('invert(100%)')">Inverted Reality</button>
    <button class="btn" onclick="addFilter('blur(5px)')">Drunk Vision</button>
    <button class="btn" onclick="addFilter('contrast(300%)')">Super Contrast</button>
    <button class="btn" onclick="addFilter('brightness(300%)')">Heaven Glow</button>
    <button class="btn" onclick="addFilter('grayscale(100%) invert(100%)')">Zombie Mode</button>
    <button class="btn" onclick="addFilter('hue-rotate(180deg)')">Opposite Colors</button>
    <button class="btn" onclick="addFilter('saturate(500%)')">Radioactive</button>

    <h2>Cool / Glitch ðŸ”¥</h2>
    <button class="btn" onclick="addFilter('hue-rotate(60deg) saturate(300%)')">Neon Pulse</button>
    <button class="btn" onclick="addFilter('sepia(80%) blur(1px)')">Vaporwave</button>
    <button class="btn" onclick="addFilter('contrast(200%) brightness(150%)')">Sharpen Pop</button>
    <button class="btn" onclick="addFilter('opacity(60%) blur(3px)')">Ghost Mode</button>

    <!-- NEW EFFECTS -->
    <h2>NEW Effects ðŸš€</h2>
    <button class="btn" onclick="swirlEffect()">Swirl Twist</button>
    <button class="btn" onclick="pixelate()">Pixelate</button>
    <button class="btn" onclick="glitch()">Glitch Shake</button>
    <button class="btn" onclick="rgbSplit()">RGB Split</button>
    <button class="btn" onclick="waveDistort()">Wave / Ripple</button>
    <button class="btn" onclick="shockDistort()">Shock Distortion</button>

    <h2>Artistic ðŸŽ­</h2>
    <button class="btn" onclick="addFilter('grayscale(100%)')">Black & White</button>
    <button class="btn" onclick="addFilter('sepia(100%)')">Vintage Old Photo</button>
    <button class="btn" onclick="addFilter('contrast(250%) brightness(80%)')">Comic Shadows</button>
    <button class="btn" onclick="addFilter('blur(2px) brightness(120%)')">Soft Glow</button>

    <h2>Photo Enhancers ðŸ“¸</h2>
    <button class="btn" onclick="addFilter('brightness(120%) contrast(130%)')">Better Lighting</button>
    <button class="btn" onclick="addFilter('saturate(120%) contrast(120%)')">Richer Colors</button>
    <button class="btn" onclick="addFilter('brightness(90%) contrast(150%)')">Cinema Mood</button>

    <h2>Stacking Tools</h2>
    <button class="btn" onclick="applyFilters()">Apply Filters</button>
    <button class="btn" onclick="clearFilters()">Clear All Filters</button>
</div>

<div id="main">
    <canvas id="canvas"></canvas>
</div>

<script>
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    let img = new Image();

    let activeFilters = [];

    document.getElementById("upload").onchange = function(e) {
        let file = e.target.files[0];
        img.src = URL.createObjectURL(file);
        img.onload = function() {
            canvas.width = img.width;
            canvas.height = img.height;
            ctx.drawImage(img, 0, 0);
            activeFilters = [];
            canvas.style.filter = "none";
        }
    }

    function addFilter(filter) {
        activeFilters.push(filter);
        canvas.style.filter = activeFilters.join(" ");
    }

    function applyFilters() {
        const temp = document.createElement("canvas");
        temp.width = canvas.width;
        temp.height = canvas.height;
        const tctx = temp.getContext("2d");

        tctx.filter = activeFilters.join(" ");
        tctx.drawImage(canvas, 0, 0);

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(temp, 0, 0);

        canvas.style.filter = "none";
        activeFilters = [];
    }

    function clearFilters() {
        activeFilters = [];
        canvas.style.filter = "none";
    }

    // -------------------------
    // NEW FX FUNCTIONS
    // -------------------------

    // SWIRL EFFECT (fake twist illusion)
    function swirlEffect() {
        canvas.style.transition = "0.2s";
        canvas.style.transform = "rotate(10deg) scale(1.05)";
        setTimeout(() => canvas.style.transform = "none", 200);
    }

    // PIXELATE
    function pixelate() {
        let pixel = 10;
        activeFilters.push(`blur(0px)`); 
        const temp = document.createElement("canvas");
        const t = temp.getContext("2d");
        temp.width = canvas.width / pixel;
        temp.height = canvas.height / pixel;

        t.drawImage(canvas, 0, 0, temp.width, temp.height);
        ctx.imageSmoothingEnabled = false;
        ctx.drawImage(temp, 0, 0, temp.width, temp.height, 0, 0, canvas.width, canvas.height);
    }

    // GLITCH SHAKE
    function glitch() {
        canvas.style.animation = "shake 0.2s";
        setTimeout(() => canvas.style.animation = "", 200);
    }

    // RGB SPLIT
    function rgbSplit() {
        activeFilters.push("drop-shadow(5px 0 red) drop-shadow(-5px 0 blue)");
        canvas.style.filter = activeFilters.join(" ");
    }

    // WAVE / RIPPLE
    function waveDistort() {
        canvas.style.transition = "0.3s";
        canvas.style.transform = "skewX(10deg)";
        setTimeout(() => canvas.style.transform = "none", 300);
    }

    // SHOCK DISTORT
    function shockDistort() {
        canvas.style.transition = "0.15s";
        canvas.style.transform = "scale(1.1) rotate(-3deg)";
        setTimeout(() => canvas.style.transform = "none", 150);
    }

</script>

</body>
</html>
